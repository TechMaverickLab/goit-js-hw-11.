{"mappings":"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","sources":["js/app.js"],"sourcesContent":["/* eslint-disable no-console */\n\n/* global axios, Notiflix, SimpleLightbox */\n\nconst API_KEY = '39484485-dccfbf14586dc449f78b39dc0';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst IMAGE_TYPE = 'photo';\nconst ORIENTATION = 'horizontal';\nconst SAFESEARCH = 'true';\nconst PER_PAGE = 40;\n\nconst galleryElement = document.querySelector('.gallery');\nconst searchFormElement = document.getElementById('search-form');\nconst searchIconElement = document.querySelector('.search-icon');\nconst loadMoreButtonElement = document.getElementById('loadMoreBtn');\nconst scrollToTopButtonElement = document.getElementById('scrollToTopBtn');\n\nlet currentQuery = '';\nlet currentPage = 1;\nlet lastScrollPosition = 0;\nlet isScrollingDown = true;\nlet isAnimating = false;\nlet animationRequestID = null;\nlet isScrollingToTop = false;\nlet buttonClicked = false;\n\nsearchIconElement.addEventListener('click', () => {\n  galleryElement.innerHTML = '';\n  currentQuery = searchFormElement.elements.searchQuery.value;\n  fetchImages(currentQuery);\n});\n\nsearchFormElement.addEventListener('submit', (event) => {\n  event.preventDefault();\n  galleryElement.innerHTML = '';\n  currentQuery = event.currentTarget.elements.searchQuery.value;\n  fetchImages(currentQuery);\n});\n\nasync function fetchImages (query, page = 1) {\n  const queryParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: IMAGE_TYPE,\n    orientation: ORIENTATION,\n    safesearch: SAFESEARCH,\n    per_page: PER_PAGE.toString(),\n    page: page.toString(),\n  });\n\n  const fullUrl = `${BASE_URL}?${queryParams.toString()}`;\n\n  try {\n    const response = await axios.get(fullUrl);\n    const images = response.data.hits;\n    const { totalHits } = response.data;\n\n    if (images.length === 0) {\n      Notiflix.Notify.failure('Sorry, there are no images matching your search query. Please try again.');\n      loadMoreButtonElement.style.display = 'none';\n    } else {\n      renderImages(images);\n      currentPage = page;\n      const successMessage = `Hooray! We found ${totalHits} images. `\n  + `Loaded ${images.length} more. `\n  + `Total loaded: ${currentPage * PER_PAGE}`;\n\n      Notiflix.Notify.success(successMessage);\n      buttonClicked = false;\n    }\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    Notiflix.Notify.failure('Something went wrong. Please try again later.');\n  }\n}\n\nfunction renderImages (images) {\n  const imageMarkup = images.map((image) => `\n    <div class=\"photo-card\">  \n      <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\">  \n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />  \n      </a>\n      <div class=\"info\">  \n        <p class=\"info-item\"><b>Likes:</b> ${image.likes}</p>  \n        <p class=\"info-item\"><b>Views:</b> ${image.views}</p>  \n        <p class=\"info-item\"><b>Comments:</b> ${image.comments}</p>  \n        <p class=\"info-item\"><b>Downloads:</b> ${image.downloads}</p>  \n      </div>\n    </div>\n  `).join('');\n\n  galleryElement.insertAdjacentHTML('beforeend', imageMarkup);\n  const lightbox = new SimpleLightbox('.photo-card a', {});\n}\n\nloadMoreButtonElement.addEventListener('click', () => {\n  loadMoreButtonElement.style.opacity = '1';\n\n  loadMoreButtonElement.classList.add('spinFast');\n\n  setTimeout(() => {\n    loadMoreButtonElement.classList.remove('spinFast');\n    loadMoreButtonElement.classList.add('spinBackAndFly');\n  }, 500);\n\n  setTimeout(() => {\n    fetchImages(currentQuery, currentPage + 1);\n    loadMoreButtonElement.classList.remove('spinBackAndFly');\n  }, 3500);\n});\n\nloadMoreButtonElement.addEventListener('mouseenter', () => {\n  loadMoreButtonElement.style.opacity = '1';\n  loadMoreButtonElement.classList.add('bounce');\n});\n\nloadMoreButtonElement.addEventListener('mouseleave', () => {\n  loadMoreButtonElement.classList.remove('bounce');\n});\n\nscrollToTopButtonElement.addEventListener('click', () => {\n  isScrollingToTop = true;\n  scrollToTopButtonElement.classList.add('flyOut');\n\n  setTimeout(() => {\n    smoothScrollToTop(4000);\n    scrollToTopButtonElement.classList.remove('flyOut');\n  }, 2000);\n});\n\nfunction smoothScrollToTop (duration) {\n  const targetPosition = 0;\n  const startPosition = window.pageYOffset;\n  let startTime = null;\n\n  function animation (currentTime) {\n    if (startTime === null) {\n      startTime = currentTime;\n    }\n\n    const timeElapsed = currentTime - startTime;\n    const run = ease(timeElapsed, startPosition, targetPosition - startPosition, duration);\n\n    window.scrollTo(0, run);\n    if (timeElapsed < duration) {\n      animationRequestID = requestAnimationFrame(animation);\n    } else {\n      isScrollingToTop = false;\n      isAnimating = false;\n    }\n  }\n\n  window.addEventListener('wheel', stopSmoothScrolling);\n  window.addEventListener('touchmove', stopSmoothScrolling);\n  window.addEventListener('keydown', handleKeyScrolling);\n\n  isAnimating = true;\n  animationRequestID = requestAnimationFrame(animation);\n}\n\nfunction stopSmoothScrolling () {\n  if (isAnimating && animationRequestID) {\n    cancelAnimationFrame(animationRequestID);\n    animationRequestID = null;\n    isAnimating = false;\n    window.removeEventListener('wheel', stopSmoothScrolling);\n    window.removeEventListener('touchmove', stopSmoothScrolling);\n    window.removeEventListener('keydown', handleKeyScrolling);\n  }\n}\n\nfunction handleKeyScrolling (event) {\n  if (event.keyCode === 38 || event.keyCode === 40) {\n    stopSmoothScrolling();\n  }\n}\n\nfunction ease (t, b, c, d) {\n  t /= d / 2;\n  if (t < 1) {\n    return (c / 2) * t * t + b;\n  }\n  t--;\n  return (-c / 2) * (t * (t - 2) - 1) + b;\n}\n\nwindow.addEventListener('scroll', () => {\n  const firstImage = galleryElement.querySelector('img');\n  const currentScrollPosition = window.scrollY;\n\n  if (currentScrollPosition > lastScrollPosition) {\n    isScrollingDown = true;\n  } else {\n    isScrollingDown = false;\n  }\n\n  lastScrollPosition = currentScrollPosition;\n\n  if (!firstImage) return;\n\n  const imagePosition = firstImage.getBoundingClientRect().top;\n\n  if (currentScrollPosition === 0) {\n    scrollToTopButtonElement.style.display = 'none';\n    scrollToTopButtonElement.classList.remove('half-opacity');\n  } else if (imagePosition < 0) {\n    scrollToTopButtonElement.style.display = 'block';\n    if (!isScrollingDown) {\n      scrollToTopButtonElement.classList.add('half-opacity');\n    } else {\n      scrollToTopButtonElement.classList.remove('half-opacity');\n    }\n  } else {\n    scrollToTopButtonElement.style.display = 'none';\n    scrollToTopButtonElement.classList.remove('half-opacity');\n  }\n\n  const nearBottom = window.innerHeight + window.scrollY >= document.body.offsetHeight - 10;\n\n  if (nearBottom) {\n    loadMoreButtonElement.style.display = 'block';\n    loadMoreButtonElement.focus();\n    loadMoreButtonElement.style.border = 'none';\n  } else if (!isScrollingDown && window.scrollY < document.body.offsetHeight - 100) {\n    loadMoreButtonElement.style.display = 'none';\n  }\n\n  const lastImage = galleryElement.lastElementChild;\n  if (lastImage) {\n    const rect = lastImage.getBoundingClientRect();\n    if (rect.bottom > window.innerHeight - 72) {\n      loadMoreButtonElement.style.bottom = '10px';\n    } else {\n      loadMoreButtonElement.style.bottom = '40px';\n    }\n  }\n});\n"],"names":[],"version":3,"file":"index.cea00a9b.js.map","sourceRoot":"/__parcel_source_root/"}