{"mappings":"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","sources":["<anon>","js/app.js","js/apiService.js"],"sourcesContent":["/* eslint-disable no-unused-vars */ /* eslint-disable no-console */ /* global axios, Notiflix, SimpleLightbox */ // eslint-disable-next-line import/extensions\n/* global axios */ const $22fade380d2b13e3$var$API_KEY = \"39484485-dccfbf14586dc449f78b39dc0\";\nconst $22fade380d2b13e3$var$BASE_URL = \"https://pixabay.com/api/\";\nconst $22fade380d2b13e3$var$IMAGE_TYPE = \"photo\";\nconst $22fade380d2b13e3$var$ORIENTATION = \"horizontal\";\nconst $22fade380d2b13e3$var$SAFESEARCH = \"true\";\nconst $22fade380d2b13e3$var$PER_PAGE = 40;\nasync function $22fade380d2b13e3$var$fetchImages(query, page = 1) {\n    const queryParams = new URLSearchParams({\n        key: $22fade380d2b13e3$var$API_KEY,\n        q: query,\n        image_type: $22fade380d2b13e3$var$IMAGE_TYPE,\n        orientation: $22fade380d2b13e3$var$ORIENTATION,\n        safesearch: $22fade380d2b13e3$var$SAFESEARCH,\n        per_page: $22fade380d2b13e3$var$PER_PAGE.toString(),\n        page: page.toString()\n    });\n    const fullUrl = `${$22fade380d2b13e3$var$BASE_URL}?${queryParams.toString()}`;\n    try {\n        const response = await axios.get(fullUrl);\n        return response.data;\n    } catch (error) {\n        // eslint-disable-next-line no-console\n        console.error(\"Error fetching images:\", error);\n        throw error;\n    }\n}\nvar $22fade380d2b13e3$export$2e2bcd8739ae039 = $22fade380d2b13e3$var$fetchImages;\n\n\nconst $4fc5e34bd161c544$var$API_KEY = \"39484485-dccfbf14586dc449f78b39dc0\";\nconst $4fc5e34bd161c544$var$BASE_URL = \"https://pixabay.com/api/\";\nconst $4fc5e34bd161c544$var$IMAGE_TYPE = \"photo\";\nconst $4fc5e34bd161c544$var$ORIENTATION = \"horizontal\";\nconst $4fc5e34bd161c544$var$SAFESEARCH = \"true\";\nconst $4fc5e34bd161c544$var$PER_PAGE = 40;\nconst $4fc5e34bd161c544$var$galleryElement = document.querySelector(\".gallery\");\nconst $4fc5e34bd161c544$var$searchFormElement = document.getElementById(\"search-form\");\nconst $4fc5e34bd161c544$var$searchIconElement = document.querySelector(\".search-icon\");\nconst $4fc5e34bd161c544$var$loadMoreButtonElement = document.getElementById(\"loadMoreBtn\");\nconst $4fc5e34bd161c544$var$scrollToTopButtonElement = document.getElementById(\"scrollToTopBtn\");\nlet $4fc5e34bd161c544$var$currentQuery = \"\";\nlet $4fc5e34bd161c544$var$currentPage = 1;\nlet $4fc5e34bd161c544$var$lastScrollPosition = 0;\nlet $4fc5e34bd161c544$var$isScrollingDown = true;\nlet $4fc5e34bd161c544$var$isAnimating = false;\nlet $4fc5e34bd161c544$var$animationRequestID = null;\nlet $4fc5e34bd161c544$var$isScrollingToTop = false;\nlet $4fc5e34bd161c544$var$buttonClicked = false;\nlet $4fc5e34bd161c544$var$totalImages = 0;\n$4fc5e34bd161c544$var$searchIconElement.addEventListener(\"click\", async ()=>{\n    $4fc5e34bd161c544$var$galleryElement.innerHTML = \"\";\n    $4fc5e34bd161c544$var$currentQuery = $4fc5e34bd161c544$var$searchFormElement.elements.searchQuery.value;\n    try {\n        const data = await (0, $22fade380d2b13e3$export$2e2bcd8739ae039)($4fc5e34bd161c544$var$currentQuery);\n        $4fc5e34bd161c544$var$handleResponse(data);\n    } catch (error) {\n        Notiflix.Notify.failure(\"Something went wrong. Please try again later.\");\n    }\n});\n$4fc5e34bd161c544$var$searchFormElement.addEventListener(\"submit\", async (event)=>{\n    event.preventDefault();\n    $4fc5e34bd161c544$var$galleryElement.innerHTML = \"\";\n    $4fc5e34bd161c544$var$currentQuery = event.currentTarget.elements.searchQuery.value;\n    try {\n        const data = await (0, $22fade380d2b13e3$export$2e2bcd8739ae039)($4fc5e34bd161c544$var$currentQuery);\n        $4fc5e34bd161c544$var$handleResponse(data);\n    } catch (error) {\n        Notiflix.Notify.failure(\"Something went wrong. Please try again later.\");\n    }\n});\nfunction $4fc5e34bd161c544$var$handleResponse(data) {\n    const images = data.hits;\n    const { totalHits: totalHits } = data;\n    $4fc5e34bd161c544$var$totalImages = totalHits;\n    if (images.length === 0) {\n        Notiflix.Notify.failure(\"Sorry, there are no images matching your search query. Please try again.\");\n        $4fc5e34bd161c544$var$loadMoreButtonElement.style.display = \"none\";\n    } else {\n        $4fc5e34bd161c544$var$renderImages(images);\n        $4fc5e34bd161c544$var$currentPage = 1;\n        const successMessage = `Hooray! We found ${totalHits} images. ` + `Loaded ${images.length} more. ` + `Total loaded: ${$4fc5e34bd161c544$var$currentPage * $4fc5e34bd161c544$var$PER_PAGE}`;\n        Notiflix.Notify.success(successMessage);\n        $4fc5e34bd161c544$var$buttonClicked = false;\n        $4fc5e34bd161c544$var$loadMoreButtonElement.style.display = images.length < $4fc5e34bd161c544$var$PER_PAGE ? \"none\" : \"block\";\n    }\n}\nfunction $4fc5e34bd161c544$var$renderImages(images) {\n    const imageMarkup = images.map((image)=>`\n    <div class=\"photo-card\">  \n      <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\">  \n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />  \n      </a>\n      <div class=\"info\">  \n        <p class=\"info-item\"><b>Likes:</b> ${image.likes}</p>  \n        <p class=\"info-item\"><b>Views:</b> ${image.views}</p>  \n        <p class=\"info-item\"><b>Comments:</b> ${image.comments}</p>  \n        <p class=\"info-item\"><b>Downloads:</b> ${image.downloads}</p>  \n      </div>\n    </div>\n  `).join(\"\");\n    $4fc5e34bd161c544$var$galleryElement.insertAdjacentHTML(\"beforeend\", imageMarkup);\n    const lightbox = new SimpleLightbox(\".photo-card a\", {});\n}\n$4fc5e34bd161c544$var$loadMoreButtonElement.addEventListener(\"click\", async ()=>{\n    $4fc5e34bd161c544$var$loadMoreButtonElement.style.opacity = \"1\";\n    $4fc5e34bd161c544$var$loadMoreButtonElement.classList.add(\"spinFast\");\n    setTimeout(()=>{\n        $4fc5e34bd161c544$var$loadMoreButtonElement.classList.remove(\"spinFast\");\n        $4fc5e34bd161c544$var$loadMoreButtonElement.classList.add(\"spinBackAndFly\");\n    }, 500);\n    try {\n        const data = await (0, $22fade380d2b13e3$export$2e2bcd8739ae039)($4fc5e34bd161c544$var$currentQuery, $4fc5e34bd161c544$var$currentPage + 1);\n        const images = data.hits;\n        if (images.length > 0) {\n            $4fc5e34bd161c544$var$renderImages(images);\n            $4fc5e34bd161c544$var$currentPage += 1;\n            const successMessage = `Hooray! We found ${$4fc5e34bd161c544$var$totalImages} images. ` + `Loaded ${images.length} more. ` + `Total loaded: ${$4fc5e34bd161c544$var$currentPage * $4fc5e34bd161c544$var$PER_PAGE}`;\n            Notiflix.Notify.success(successMessage);\n        }\n        if (images.length < $4fc5e34bd161c544$var$PER_PAGE) $4fc5e34bd161c544$var$loadMoreButtonElement.style.display = \"none\";\n    } catch (error) {\n        console.error(\"Error fetching images:\", error);\n        Notiflix.Notify.failure(\"Something went wrong. Please try again later.\");\n    }\n    setTimeout(()=>{\n        $4fc5e34bd161c544$var$loadMoreButtonElement.classList.remove(\"spinBackAndFly\");\n    }, 3500);\n});\n$4fc5e34bd161c544$var$loadMoreButtonElement.addEventListener(\"mouseenter\", ()=>{\n    $4fc5e34bd161c544$var$loadMoreButtonElement.style.opacity = \"1\";\n    $4fc5e34bd161c544$var$loadMoreButtonElement.classList.add(\"bounce\");\n});\n$4fc5e34bd161c544$var$loadMoreButtonElement.addEventListener(\"mouseleave\", ()=>{\n    $4fc5e34bd161c544$var$loadMoreButtonElement.classList.remove(\"bounce\");\n});\n$4fc5e34bd161c544$var$scrollToTopButtonElement.addEventListener(\"click\", ()=>{\n    $4fc5e34bd161c544$var$isScrollingToTop = true;\n    $4fc5e34bd161c544$var$scrollToTopButtonElement.classList.add(\"flyOut\");\n    setTimeout(()=>{\n        $4fc5e34bd161c544$var$smoothScrollToTop(4000);\n        $4fc5e34bd161c544$var$scrollToTopButtonElement.classList.remove(\"flyOut\");\n    }, 2000);\n});\nfunction $4fc5e34bd161c544$var$smoothScrollToTop(duration) {\n    const targetPosition = 0;\n    const startPosition = window.pageYOffset;\n    let startTime = null;\n    function animation(currentTime) {\n        if (startTime === null) startTime = currentTime;\n        const timeElapsed = currentTime - startTime;\n        const run = $4fc5e34bd161c544$var$ease(timeElapsed, startPosition, targetPosition - startPosition, duration);\n        window.scrollTo(0, run);\n        if (timeElapsed < duration) $4fc5e34bd161c544$var$animationRequestID = requestAnimationFrame(animation);\n        else {\n            $4fc5e34bd161c544$var$isScrollingToTop = false;\n            $4fc5e34bd161c544$var$isAnimating = false;\n        }\n    }\n    window.addEventListener(\"wheel\", $4fc5e34bd161c544$var$stopSmoothScrolling);\n    window.addEventListener(\"touchmove\", $4fc5e34bd161c544$var$stopSmoothScrolling);\n    window.addEventListener(\"keydown\", $4fc5e34bd161c544$var$handleKeyScrolling);\n    $4fc5e34bd161c544$var$isAnimating = true;\n    $4fc5e34bd161c544$var$animationRequestID = requestAnimationFrame(animation);\n}\nfunction $4fc5e34bd161c544$var$stopSmoothScrolling() {\n    if ($4fc5e34bd161c544$var$isAnimating && $4fc5e34bd161c544$var$animationRequestID) {\n        cancelAnimationFrame($4fc5e34bd161c544$var$animationRequestID);\n        $4fc5e34bd161c544$var$animationRequestID = null;\n        $4fc5e34bd161c544$var$isAnimating = false;\n        window.removeEventListener(\"wheel\", $4fc5e34bd161c544$var$stopSmoothScrolling);\n        window.removeEventListener(\"touchmove\", $4fc5e34bd161c544$var$stopSmoothScrolling);\n        window.removeEventListener(\"keydown\", $4fc5e34bd161c544$var$handleKeyScrolling);\n    }\n}\nfunction $4fc5e34bd161c544$var$handleKeyScrolling(event) {\n    if (event.keyCode === 38 || event.keyCode === 40) $4fc5e34bd161c544$var$stopSmoothScrolling();\n}\nfunction $4fc5e34bd161c544$var$ease(t, b, c, d) {\n    t /= d / 2;\n    if (t < 1) return c / 2 * t * t + b;\n    t--;\n    return -c / 2 * (t * (t - 2) - 1) + b;\n}\nwindow.addEventListener(\"scroll\", ()=>{\n    const firstImage = $4fc5e34bd161c544$var$galleryElement.querySelector(\"img\");\n    const currentScrollPosition = window.scrollY;\n    if (currentScrollPosition > $4fc5e34bd161c544$var$lastScrollPosition) $4fc5e34bd161c544$var$isScrollingDown = true;\n    else $4fc5e34bd161c544$var$isScrollingDown = false;\n    $4fc5e34bd161c544$var$lastScrollPosition = currentScrollPosition;\n    if (!firstImage) return;\n    const imagePosition = firstImage.getBoundingClientRect().top;\n    if (currentScrollPosition === 0) {\n        $4fc5e34bd161c544$var$scrollToTopButtonElement.style.display = \"none\";\n        $4fc5e34bd161c544$var$scrollToTopButtonElement.classList.remove(\"half-opacity\");\n    } else if (imagePosition < 0) {\n        $4fc5e34bd161c544$var$scrollToTopButtonElement.style.display = \"block\";\n        if (!$4fc5e34bd161c544$var$isScrollingDown) $4fc5e34bd161c544$var$scrollToTopButtonElement.classList.add(\"half-opacity\");\n        else $4fc5e34bd161c544$var$scrollToTopButtonElement.classList.remove(\"half-opacity\");\n    } else {\n        $4fc5e34bd161c544$var$scrollToTopButtonElement.style.display = \"none\";\n        $4fc5e34bd161c544$var$scrollToTopButtonElement.classList.remove(\"half-opacity\");\n    }\n    const nearBottom = window.innerHeight + window.scrollY >= document.body.offsetHeight - 10;\n    if (nearBottom) {\n        $4fc5e34bd161c544$var$loadMoreButtonElement.style.display = \"block\";\n        $4fc5e34bd161c544$var$loadMoreButtonElement.focus();\n        $4fc5e34bd161c544$var$loadMoreButtonElement.style.border = \"none\";\n    } else if (!$4fc5e34bd161c544$var$isScrollingDown && window.scrollY < document.body.offsetHeight - 100) $4fc5e34bd161c544$var$loadMoreButtonElement.style.display = \"none\";\n    const lastImage = $4fc5e34bd161c544$var$galleryElement.lastElementChild;\n    if (lastImage) {\n        const rect = lastImage.getBoundingClientRect();\n        if (rect.bottom > window.innerHeight - 72) $4fc5e34bd161c544$var$loadMoreButtonElement.style.bottom = \"10px\";\n        else $4fc5e34bd161c544$var$loadMoreButtonElement.style.bottom = \"40px\";\n    }\n});\n\n\n//# sourceMappingURL=index.ea37cdb8.js.map\n","/* eslint-disable no-unused-vars */\n/* eslint-disable no-console */\n\n/* global axios, Notiflix, SimpleLightbox */\n\n// eslint-disable-next-line import/extensions\nimport fetchImages from './apiService.js';\n\nconst API_KEY = '39484485-dccfbf14586dc449f78b39dc0';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst IMAGE_TYPE = 'photo';\nconst ORIENTATION = 'horizontal';\nconst SAFESEARCH = 'true';\nconst PER_PAGE = 40;\n\nconst galleryElement = document.querySelector('.gallery');\nconst searchFormElement = document.getElementById('search-form');\nconst searchIconElement = document.querySelector('.search-icon');\nconst loadMoreButtonElement = document.getElementById('loadMoreBtn');\nconst scrollToTopButtonElement = document.getElementById('scrollToTopBtn');\n\nlet currentQuery = '';\nlet currentPage = 1;\nlet lastScrollPosition = 0;\nlet isScrollingDown = true;\nlet isAnimating = false;\nlet animationRequestID = null;\nlet isScrollingToTop = false;\nlet buttonClicked = false;\nlet totalImages = 0;\n\nsearchIconElement.addEventListener('click', async () => {\n  galleryElement.innerHTML = '';\n  currentQuery = searchFormElement.elements.searchQuery.value;\n  try {\n    const data = await fetchImages(currentQuery);\n    handleResponse(data);\n  } catch (error) {\n    Notiflix.Notify.failure('Something went wrong. Please try again later.');\n  }\n});\n\nsearchFormElement.addEventListener('submit', async (event) => {\n  event.preventDefault();\n  galleryElement.innerHTML = '';\n  currentQuery = event.currentTarget.elements.searchQuery.value;\n  try {\n    const data = await fetchImages(currentQuery);\n    handleResponse(data);\n  } catch (error) {\n    Notiflix.Notify.failure('Something went wrong. Please try again later.');\n  }\n});\n\nfunction handleResponse (data) {\n  const images = data.hits;\n  const { totalHits } = data;\n\n  totalImages = totalHits;\n\n  if (images.length === 0) {\n    Notiflix.Notify.failure('Sorry, there are no images matching your search query. Please try again.');\n    loadMoreButtonElement.style.display = 'none';\n  } else {\n    renderImages(images);\n    currentPage = 1;\n    const successMessage = `Hooray! We found ${totalHits} images. `\n      + `Loaded ${images.length} more. `\n      + `Total loaded: ${currentPage * PER_PAGE}`;\n\n    Notiflix.Notify.success(successMessage);\n    buttonClicked = false;\n    loadMoreButtonElement.style.display = images.length < PER_PAGE ? 'none' : 'block';\n  }\n}\n\nfunction renderImages (images) {\n  const imageMarkup = images.map((image) => `\n    <div class=\"photo-card\">  \n      <a href=\"${image.largeImageURL}\" data-lightbox=\"gallery\">  \n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />  \n      </a>\n      <div class=\"info\">  \n        <p class=\"info-item\"><b>Likes:</b> ${image.likes}</p>  \n        <p class=\"info-item\"><b>Views:</b> ${image.views}</p>  \n        <p class=\"info-item\"><b>Comments:</b> ${image.comments}</p>  \n        <p class=\"info-item\"><b>Downloads:</b> ${image.downloads}</p>  \n      </div>\n    </div>\n  `).join('');\n\n  galleryElement.insertAdjacentHTML('beforeend', imageMarkup);\n  const lightbox = new SimpleLightbox('.photo-card a', {});\n}\n\nloadMoreButtonElement.addEventListener('click', async () => {\n  loadMoreButtonElement.style.opacity = '1';\n\n  loadMoreButtonElement.classList.add('spinFast');\n\n  setTimeout(() => {\n    loadMoreButtonElement.classList.remove('spinFast');\n    loadMoreButtonElement.classList.add('spinBackAndFly');\n  }, 500);\n\n  try {\n    const data = await fetchImages(currentQuery, currentPage + 1);\n    const images = data.hits;\n    if (images.length > 0) {\n      renderImages(images);\n      currentPage += 1;\n      const successMessage = `Hooray! We found ${totalImages} images. `\n        + `Loaded ${images.length} more. `\n        + `Total loaded: ${currentPage * PER_PAGE}`;\n      Notiflix.Notify.success(successMessage);\n    }\n    if (images.length < PER_PAGE) {\n      loadMoreButtonElement.style.display = 'none';\n    }\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    Notiflix.Notify.failure('Something went wrong. Please try again later.');\n  }\n\n  setTimeout(() => {\n    loadMoreButtonElement.classList.remove('spinBackAndFly');\n  }, 3500);\n});\n\nloadMoreButtonElement.addEventListener('mouseenter', () => {\n  loadMoreButtonElement.style.opacity = '1';\n  loadMoreButtonElement.classList.add('bounce');\n});\n\nloadMoreButtonElement.addEventListener('mouseleave', () => {\n  loadMoreButtonElement.classList.remove('bounce');\n});\n\nscrollToTopButtonElement.addEventListener('click', () => {\n  isScrollingToTop = true;\n  scrollToTopButtonElement.classList.add('flyOut');\n\n  setTimeout(() => {\n    smoothScrollToTop(4000);\n    scrollToTopButtonElement.classList.remove('flyOut');\n  }, 2000);\n});\n\nfunction smoothScrollToTop (duration) {\n  const targetPosition = 0;\n  const startPosition = window.pageYOffset;\n  let startTime = null;\n\n  function animation (currentTime) {\n    if (startTime === null) {\n      startTime = currentTime;\n    }\n\n    const timeElapsed = currentTime - startTime;\n    const run = ease(timeElapsed, startPosition, targetPosition - startPosition, duration);\n\n    window.scrollTo(0, run);\n    if (timeElapsed < duration) {\n      animationRequestID = requestAnimationFrame(animation);\n    } else {\n      isScrollingToTop = false;\n      isAnimating = false;\n    }\n  }\n\n  window.addEventListener('wheel', stopSmoothScrolling);\n  window.addEventListener('touchmove', stopSmoothScrolling);\n  window.addEventListener('keydown', handleKeyScrolling);\n\n  isAnimating = true;\n  animationRequestID = requestAnimationFrame(animation);\n}\n\nfunction stopSmoothScrolling () {\n  if (isAnimating && animationRequestID) {\n    cancelAnimationFrame(animationRequestID);\n    animationRequestID = null;\n    isAnimating = false;\n    window.removeEventListener('wheel', stopSmoothScrolling);\n    window.removeEventListener('touchmove', stopSmoothScrolling);\n    window.removeEventListener('keydown', handleKeyScrolling);\n  }\n}\n\nfunction handleKeyScrolling (event) {\n  if (event.keyCode === 38 || event.keyCode === 40) {\n    stopSmoothScrolling();\n  }\n}\n\nfunction ease (t, b, c, d) {\n  t /= d / 2;\n  if (t < 1) {\n    return (c / 2) * t * t + b;\n  }\n  t--;\n  return (-c / 2) * (t * (t - 2) - 1) + b;\n}\n\nwindow.addEventListener('scroll', () => {\n  const firstImage = galleryElement.querySelector('img');\n  const currentScrollPosition = window.scrollY;\n\n  if (currentScrollPosition > lastScrollPosition) {\n    isScrollingDown = true;\n  } else {\n    isScrollingDown = false;\n  }\n\n  lastScrollPosition = currentScrollPosition;\n\n  if (!firstImage) return;\n\n  const imagePosition = firstImage.getBoundingClientRect().top;\n\n  if (currentScrollPosition === 0) {\n    scrollToTopButtonElement.style.display = 'none';\n    scrollToTopButtonElement.classList.remove('half-opacity');\n  } else if (imagePosition < 0) {\n    scrollToTopButtonElement.style.display = 'block';\n    if (!isScrollingDown) {\n      scrollToTopButtonElement.classList.add('half-opacity');\n    } else {\n      scrollToTopButtonElement.classList.remove('half-opacity');\n    }\n  } else {\n    scrollToTopButtonElement.style.display = 'none';\n    scrollToTopButtonElement.classList.remove('half-opacity');\n  }\n\n  const nearBottom = window.innerHeight + window.scrollY >= document.body.offsetHeight - 10;\n\n  if (nearBottom) {\n    loadMoreButtonElement.style.display = 'block';\n    loadMoreButtonElement.focus();\n    loadMoreButtonElement.style.border = 'none';\n  } else if (!isScrollingDown && window.scrollY < document.body.offsetHeight - 100) {\n    loadMoreButtonElement.style.display = 'none';\n  }\n\n  const lastImage = galleryElement.lastElementChild;\n  if (lastImage) {\n    const rect = lastImage.getBoundingClientRect();\n    if (rect.bottom > window.innerHeight - 72) {\n      loadMoreButtonElement.style.bottom = '10px';\n    } else {\n      loadMoreButtonElement.style.bottom = '40px';\n    }\n  }\n});\n","/* global axios */\n\nconst API_KEY = '39484485-dccfbf14586dc449f78b39dc0';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst IMAGE_TYPE = 'photo';\nconst ORIENTATION = 'horizontal';\nconst SAFESEARCH = 'true';\nconst PER_PAGE = 40;\n\nasync function fetchImages (query, page = 1) {\n  const queryParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: IMAGE_TYPE,\n    orientation: ORIENTATION,\n    safesearch: SAFESEARCH,\n    per_page: PER_PAGE.toString(),\n    page: page.toString(),\n  });\n\n  const fullUrl = `${BASE_URL}?${queryParams.toString()}`;\n\n  try {\n    const response = await axios.get(fullUrl);\n    return response.data;\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error('Error fetching images:', error);\n    throw error;\n  }\n}\n\nexport default fetchImages;\n"],"names":["$22fade380d2b13e3$var$fetchImages","query","page","queryParams","URLSearchParams","key","q","image_type","orientation","safesearch","per_page","$22fade380d2b13e3$var$PER_PAGE","toString","fullUrl","response","axios","get","data","error","console","$4fc5e34bd161c544$var$galleryElement","document","querySelector","$4fc5e34bd161c544$var$searchFormElement","getElementById","$4fc5e34bd161c544$var$searchIconElement","$4fc5e34bd161c544$var$loadMoreButtonElement","$4fc5e34bd161c544$var$scrollToTopButtonElement","$4fc5e34bd161c544$var$currentQuery","$4fc5e34bd161c544$var$currentPage","$4fc5e34bd161c544$var$lastScrollPosition","$4fc5e34bd161c544$var$isScrollingDown","$4fc5e34bd161c544$var$isAnimating","$4fc5e34bd161c544$var$animationRequestID","$4fc5e34bd161c544$var$totalImages","$4fc5e34bd161c544$var$handleResponse","images","hits","totalHits","length","Notiflix","Notify","failure","style","display","$4fc5e34bd161c544$var$renderImages","successMessage","success","imageMarkup","map","image","largeImageURL","webformatURL","tags","likes","views","comments","downloads","join","insertAdjacentHTML","SimpleLightbox","$4fc5e34bd161c544$var$stopSmoothScrolling","cancelAnimationFrame","window","removeEventListener","$4fc5e34bd161c544$var$handleKeyScrolling","event","keyCode","addEventListener","innerHTML","elements","searchQuery","value","preventDefault","currentTarget","opacity","classList","add","setTimeout","remove","$4fc5e34bd161c544$var$smoothScrollToTop","duration","startPosition","pageYOffset","startTime","requestAnimationFrame","animation","currentTime","t","c","timeElapsed","run","targetPosition","d","scrollTo","firstImage","currentScrollPosition","scrollY","imagePosition","getBoundingClientRect","top","nearBottom","innerHeight","body","offsetHeight","focus","border","lastImage","lastElementChild","rect","bottom"],"version":3,"file":"index.ea37cdb8.js.map"}